(self.webpackChunkzent_docs=self.webpackChunkzent_docs||[]).push([[6638],{56377:(e,t,n)=>{"use strict";n.d(t,{r:()=>c});var r=n(59312),i=n(24246),o=n(27378),d=n(60042),a=n.n(d),s=n(1348),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggle=function(){var e=t.props,n=e.onChange,r=e.checked;n&&n(!r)},t}return(0,r.ZT)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.size,o=t.disabled,d=void 0===o?this.context.value:o,s=t.loading,c=t.checked,l=d||s,p=a()(((e={})["zent-switch-"+r]="default"!==r,e["zent-switch-disabled"]=l,e["zent-switch-loading"]=s,e["zent-switch-checked"]=c,e),"zent-switch",n);return(0,i.jsx)("div",{className:p,onClick:l?void 0:this.toggle,"data-zv":"10.0.0-rc.9"},void 0)},t.defaultProps={size:"default"},t.contextType=s.d,t}(o.Component);t.Z=c},69916:(e,t,n)=>{"use strict";n.d(t,{m:()=>b});var r=n(59312),i=n(24246),o=n(27378),d=n(60042),a=n.n(d),s=n(79737),c=n(68150),l=n(20840),p={id:"id",title:"title",children:"children",parentId:"parentId"};function h(e,t,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=[],o={};return e.forEach((function(e){if(t[e]){var d=r?t[e].rootIncludeIds:t[e].rootIncludeIds.filter((function(e){return-1===n.indexOf(e)}));i.push.apply(i,d),o[e]=!0}})),e.forEach((function(e){if(t[e])for(var r=t[e].parentId;r;)o[r]?r=void 0:t[r].son.every((function(e){return o[e]||n.indexOf(e)>-1}))?(o[r]=!0,r=t[r].parentId):r=void 0})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=new Set,r=[],i=0;i<e.length;i++){var o=e[i];if(null!=o)for(var d=0;d<o.length;d++){var a=o[d];n.has(a)||(r.push(a),n.add(a))}}return r}(Object.keys(o).map((function(e){return t[e].id})),i)}function u(e){var t=e.data,n=e.isRoot,i=e.renderKey,o=e.dataType,d=e.expandAll,a=e.loadMore,s=e.checkable,c=e.disabledCheckedKeys,l=void 0===c?[]:c,u=e.checkedKeys,f=void 0===u?[]:u,v=(0,r.pi)((0,r.pi)({},p),i),y=v.children,x=v.parentId,g=v.id,b=[];if("plain"===o){var m={};t.forEach((function(e){m[e[g]]=(0,r.pi)({},e),e.isLeaf||(m[e[g]][y]=[])})),t.forEach((function(e){var t=n&&n(e)||0===e[x]||void 0===e[x]||"0"===e[x],r=m[e[g]];t?b.push(r):m[r[x]]&&m[r[x]][y].push(r)}))}else"tree"===o&&(b=t);var I=function(e){var t=e.expandAll,n=e.loadMore,r=e.tree,i=e.renderKey,o=void 0===i?p:i,d=[],a={},s=o.children,c=o.id;return function e(r){var i=r.nodeTree,o=r.parentId;i.forEach((function(r){var i=r[c];a[i]={id:i,parentId:o,root:r,isExpand:!1,isParent:!1,son:(r[s]||[]).map((function(e){return e[c]})),rootIncludeIds:[i]};var l=!(r.isLeaf||!(n||r[s]&&r[s].length>0));a[i].isParent=l,l&&(t||r.expand)&&d.push(i),r[s]&&e({nodeTree:r[s],parentId:i}),void 0!==o&&a[o]&&(a[o].rootIncludeIds=a[o].rootIncludeIds.concat(a[i].rootIncludeIds))}))}({nodeTree:r,parentId:void 0}),{rootInfoMap:a,expandNode:d}}({expandAll:d,checkable:s,loadMore:a,tree:b,renderKey:v}),N=I.rootInfoMap,k=I.expandNode,z=s?h(l,N):l,K=s?h(f,N,z,!0):f;return{tree:b,renderKey:v,rootInfoMap:N,expandNode:k,checkedNode:K,disabledNode:z}}var f=n(27036),v=n(98859),y=n(85883),x=function(e){var t=e.children,n=e.showPop,d=(0,o.useRef)(null),a=(0,o.useState)(!1),s=a[0],c=a[1],l=(0,o.useState)(!1),p=l[0],h=l[1];return(0,o.useEffect)((function(){if(d.current){var e=d.current,t=e.scrollWidth,n=e.clientWidth;c(t>n)}}),[d]),(0,i.jsx)(y.Z,(0,r.pi)({centerArrow:!0,content:t,visible:p,position:"top-left",onVisibleChange:function(e){return h(e)},trigger:n&&s?"hover":"none"},{children:(0,i.jsx)("span",(0,r.pi)({className:"zent-tree-content",ref:d,"data-zv":"10.0.0-rc.9"},{children:t}),void 0)}),void 0)},g={small:16,medium:20,large:24},b=function(e){function t(t){var n=e.call(this,t)||this;return n.setSelectKeyState=function(e,t){var r,i;null===(i=(r=n.props).onSelect)||void 0===i||i.call(r,e,t),n.isSelectControlled||n.setState({selectedKey:e.id})},n.state=(0,r.pi)({prevProps:t,loadingNode:[]},u(t)),n}return(0,r.ZT)(t,e),Object.defineProperty(t.prototype,"isSelectControlled",{get:function(){return"selectedKey"in this.props},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedKey",{get:function(){return this.isSelectControlled?this.props.selectedKey:this.state.selectedKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledSelectedKeys",{get:function(){var e=this.props,t=e.disableSelectedStrictly,n=e.disabledSelectedKeys,r=this.state.rootInfoMap;if(!n||0===n.length)return[];if(!t)return n;var i=[];return n.forEach((function(e){i.push.apply(i,r[e].rootIncludeIds)})),i},enumerable:!1,configurable:!0}),t.getDerivedStateFromProps=function(e,t){var n,i,o,d,a=t.prevProps;if(e===a)return null;if(e.data!==a.data||e.renderKey!==a.renderKey||e.expandAll!==a.expandAll||e.loadMore!==a.loadMore){var s=u(e),c=s.expandNode;return e.expandAll===a.expandAll&&(n=s,i=t.expandNode,o=n.rootInfoMap,d=n.expandNode,i.forEach((function(e){-1===d.indexOf(e)&&o[e]&&d.push(e)})),c=d),(0,r.pi)((0,r.pi)({prevProps:e},s),{expandNode:c})}if(e.checkable){var l={};return a.disabledCheckedKeys!==e.disabledCheckedKeys&&(l.disabledNode=h(e.disabledCheckedKeys,t.rootInfoMap)),a.checkedKeys!==e.checkedKeys&&(l.checkedNode=h(e.checkedKeys,t.rootInfoMap,l.disabledNode||t.disabledNode),l.checkedNode=l.checkedNode.filter((function(e){return-1===t.disabledNode.indexOf(e)||t.checkedNode.indexOf(e)>-1}))),(0,r.pi)((0,r.pi)({},l),{prevProps:e})}return{prevProps:e}},t.prototype.handleExpandIconClick=function(e,t){var n=this,r=this.state.renderKey.id,i=this.props,o=i.loadMore;if(i.foldable){var d=this.state.loadingNode;if(o&&(!e.children||0===e.children.length)){t.persist();var a=d.concat(e[r]);return this.setState({loadingNode:a}),void o(e).then((function(){n.setState({loadingNode:a.filter((function(t){return t!==e[r]}))}),n.handleExpand(e)})).catch((function(){n.setState({loadingNode:a.filter((function(t){return t!==e[r]}))})}))}this.handleExpand(e)}},t.prototype.handleExpand=function(e){var t=this.props.onExpand,n=this.state.expandNode,r=e[this.state.renderKey.id],i=n.slice(),o=!0;n.indexOf(r)>-1?i=n.filter((function(e){return e!==r})):(o=!1,i.push(r)),this.setState({expandNode:i}),t&&t(e,{isExpanded:!o})},t.prototype.handleCheckboxClick=function(e){var t=this.props.onCheck,n=this.state,i=n.checkedNode,o=n.disabledNode,d=n.rootInfoMap,a=e[n.renderKey.id];i=i.indexOf(a)>-1?i.filter((function(e){return e!==a&&(o.indexOf(e)>-1||!(d[e].rootIncludeIds.indexOf(a)>-1)&&!(d[a].rootIncludeIds.indexOf(e)>-1))})):h((0,r.ev)([a],i),d,o);var s={currentRoot:e,disabled:o.map((function(e){return d[e].root})),all:[],top:[],bottom:[]};i.forEach((function(e){s.all.push(d[e].root),d[e].parentId&&-1!==i.indexOf(d[d[e].parentId].id)||s.top.push(d[e].root),(1===d[e].rootIncludeIds.length||d[e].rootIncludeIds.every((function(e){return-1===i.indexOf(e)})))&&s.bottom.push(d[e].root)})),t&&t(i,s)},t.prototype.renderSwitcher=function(e){var t=this,n=this.state,r=n.loadingNode,o=n.renderKey.id;return(0,i.jsx)(i.Fragment,{children:r.includes(e[o])?(0,i.jsx)(l.l,{loading:!0},void 0):(0,i.jsx)(f.Z,{className:"zent-tree-switcher",type:"right",onClick:function(n){n.stopPropagation(),t.handleExpandIconClick(e,n)}},void 0)},void 0)},t.prototype.renderContent=function(e,t){var n=this.state.renderKey.title,o=this.props,d=o.render,a=o.onlyShowOneLine;return(0,i.jsx)(x,(0,r.pi)({showPop:a},{children:d?d(e,t):e[n]}),void 0)},t.prototype.renderCheckbox=function(e){var t=this.props.checkable,n=this.state,r=n.checkedNode,o=n.disabledNode,d=n.rootInfoMap,a=n.renderKey;if(!t)return null;var s=e[a.id],l=r.indexOf(s)>-1,p=d[s].rootIncludeIds.filter((function(e){return-1===o.indexOf(e)})),h=!(l||!p.length||!p.some((function(e){return r.indexOf(e)>-1})));return(0,i.jsx)(c.ZP,{onChange:this.handleCheckboxClick.bind(this,e),checked:l,disabled:o.indexOf(s)>-1,indeterminate:h,width:e[a.title]},void 0)},t.prototype.renderOperations=function(e,t){var n=this.state.renderKey.id,o=this.props.operations;if(o){var d=o.map((function(o){return(o.shouldRender||function(){return!0})(e)&&(0,i.jsxs)("span",(0,r.pi)({onClick:o.action.bind(null,e,t),className:"zent-tree-operation","data-zv":"10.0.0-rc.9"},{children:["string"==typeof o.icon?(0,i.jsx)("i",{className:o.icon,"data-zv":"10.0.0-rc.9"},void 0):o.icon," ",o.name]}),o.name+"-"+e[n])}));return(0,i.jsx)("div",(0,r.pi)({className:"zent-tree-operation-container","data-zv":"10.0.0-rc.9"},{children:d}),void 0)}return null},t.prototype.renderTreeNodes=function(e,t){var n=this;void 0===t&&(t=0);var o=this.props,d=o.autoExpandOnSelect,c=o.selectable,l=o.onlyShowOneLine,p=o.size,h=this.state,u=h.expandNode,f=h.rootInfoMap,y=h.renderKey,x=y.id,b=y.children;return e&&e.length>0?e.map((function(e){var o=e[x],h=o===n.selectedKey,y=n.disabledSelectedKeys.includes(o),m=u.indexOf(o)>-1,I=a()("zent-tree-bar",{"zent-tree-bar--off":!m,"zent-tree-bar--selected":h,"zent-tree-bar--disabled":y}),N=12*t+ +!f[o].isParent*g[p];return(0,i.jsxs)("li",(0,r.pi)({"data-zv":"10.0.0-rc.9"},{children:[(0,i.jsxs)("div",(0,r.pi)({className:I,onClick:function(t){d&&n.handleExpand(e),c&&!y&&n.setSelectKeyState(e,t.currentTarget)},"data-zv":"10.0.0-rc.9"},{children:[(0,i.jsx)("span",{className:"zent-tree-bar__indent",style:{width:N+"px"},"data-zv":"10.0.0-rc.9"},void 0),f[o].isParent&&n.renderSwitcher(e),(0,i.jsxs)("div",(0,r.pi)({className:a()("zent-tree-node",{"zent-tree-node--one-line":l}),"data-zv":"10.0.0-rc.9"},{children:[n.renderCheckbox(e),n.renderContent(e,m),n.renderOperations(e,m)]}),void 0)]}),void 0),e[b]&&e[b].length>0&&(0,i.jsx)(s.H,(0,r.pi)({appear:!0,duration:200,height:m?"auto":0,easing:m?v.AX:v.Kc},{children:(0,i.jsx)("ul",(0,r.pi)({className:"zent-tree-child","data-zv":"10.0.0-rc.9"},{children:n.renderTreeNodes(e[b],t+1)}),"ul-"+o)}),void 0)]}),o)})):null},t.prototype.render=function(){var e,t=this.props,n=t.commonStyle,o=t.size,d=this.state.tree,s=a()("zent-tree",((e={})["zent-tree-"+o]="medium"!==o,e));return(0,i.jsx)("ul",(0,r.pi)({className:s,style:n,"data-zv":"10.0.0-rc.9"},{children:this.renderTreeNodes(d)}),void 0)},t.defaultProps={autoExpandOnSelect:!1,dataType:"tree",foldable:!0,checkable:!1,selectable:!0,size:"medium"},t}(o.Component)},79737:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(59312),i=n(24246),o=n(27378),d=n(17127);function a(e,t){e.style.height="number"==typeof t?t+"px":t}var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=(0,o.createRef)(),t.timer=null,t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.appear,r=t.height,i=t.duration,o=this.ref.current;n&&"auto"===r?(o.style.height="0px",(0,d.tA)((function(){e.props.height===r&&(o.style.height=o.offsetHeight+"px",e.timer=setTimeout((function(){e.timer=null,e.props.height===r&&(o.style.height="auto")}),i))}))):a(o,r)},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props,r=n.height,i=n.duration;if(e.height!==r){null!==this.timer&&(clearTimeout(this.timer),this.timer=null);var o=this.ref.current;if("auto"===e.height)o.style.height=o.offsetHeight+"px",(0,d.tA)((function(){t.props.height===r&&a(o,r)}));else if("auto"===r){var s=o.offsetHeight;o.style.height="auto";var c=o.offsetHeight;o.style.height=s+"px",(0,d.tA)((function(){o.style.height=c+"px",t.timer=setTimeout((function(){t.timer=null,t.props.height===r&&(o.style.height=r)}),i)}))}else a(o,r)}},t.prototype.render=function(){var e=this.props,t=e.duration,n=e.className,o=e.style,d=e.easing,a=e.overflow,s=e.children,c=e.transitionPrototype;return(0,i.jsx)("div",(0,r.pi)({ref:this.ref,className:n,style:(0,r.pi)((0,r.pi)({},o),{transition:c+" "+t+"ms "+d,overflow:a}),"data-zv":"10.0.0-rc.9"},{children:s}),void 0)},t.defaultProps={appear:!1,duration:200,easing:"ease",overflow:"hidden",transitionPrototype:"height"},t}(o.Component)},98859:(e,t,n)=>{"use strict";n.d(t,{rc:()=>r,Kc:()=>i,AX:()=>o});var r="cubic-bezier(0.5, 0, 0.5, 0.1)",i="cubic-bezier(0.33, 1, 0.68, 1)",o="cubic-bezier(0.32, 0, 0.67, 0)"}}]);